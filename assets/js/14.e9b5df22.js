(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{584:function(t,s,a){"use strict";a.r(s);var n=a(2),e=function(t){t.options.__data__block__={flowchart_382ee165:"process=>operation: masteræœ‰pushæ›´æ–°\nprocess2=>operation: è§¦å‘Github Actions\nprocess3=>operation: æ‰“åŒ…å¹¶éƒ¨ç½²åˆ°gh-pagesåˆ†æ”¯\nprocess4=>operation: SSHè¿œç¨‹ç™»å½•äº‘æœåŠ¡å™¨git pull(gh-pagesåˆ†æ”¯)\ne=>end: End\n\nprocess->process2\nprocess2->process3\nprocess3->process4\nprocess4->e"}},r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[t._v("#")]),t._v(" æ¦‚è¿°")]),t._v(" "),a("h3",{attrs:{id:"æµæ°´å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµæ°´å¼"}},[t._v("#")]),t._v(" æµæ°´å¼")]),t._v(" "),a("p",[t._v("ä¼ ç»Ÿå†™MDæ–‡ç« ï¼Œç„¶åæäº¤åˆ°Githubå¹¶æœ¬åœ°æ‰§è¡Œbuildæ‰“åŒ…å®Œä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨")]),t._v(" "),a("h3",{attrs:{id:"è‡ªåŠ¨åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªåŠ¨åŒ–"}},[t._v("#")]),t._v(" è‡ªåŠ¨åŒ–")]),t._v(" "),a("p",[t._v("æ–°å»ºgh-pagesåˆ†æ”¯,é…åˆpages.github.ioå’ŒGithub Actions"),a("br"),t._v("\nè§¦å‘pushåˆ°masterä¸»åˆ†æ”¯çš„è¡Œä¸ºå°±æ‰§è¡Œ.github/workflows/*.ymlä¸‹çš„æ–‡ä»¶.è€Œè¾¾åˆ°è‡ªåŠ¨åŒ–æ‰“åŒ…æ›´æ–°")]),t._v(" "),a("h3",{attrs:{id:"åŠ å¿«ç½‘ç»œè®¿é—®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ å¿«ç½‘ç»œè®¿é—®"}},[t._v("#")]),t._v(" åŠ å¿«ç½‘ç»œè®¿é—®")]),t._v(" "),a("p",[t._v("æ¯•ç«Ÿæ˜¯å›½å¤–çš„ç½‘ç»œ,å¯¹äºå›½å†…è®¿é—®éå¸¸å¡ğŸ˜¨,äºæ˜¯æ­¤ç¯‡æ–‡ç« çš„ç›®æ˜¯"),a("br"),t._v("\nåªè¦masteræœ‰æ›´æ–°ğŸ˜€ä¾¿åŒæ­¥æ‰§è¡Œäº‘æœåŠ¡å™¨çš„shellè„šæœ¬æ›´æ–°ğŸ˜.ç”Ÿæˆæœ€æ–°çš„æ–‡ç« é¡µé¢ğŸ’ª")]),t._v(" "),a("FlowChart",{attrs:{id:"flowchart_382ee165",code:t.$dataBlock.flowchart_382ee165,preset:"vue"}}),a("h2",{attrs:{id:"å‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡"}},[t._v("#")]),t._v(" å‡†å¤‡")]),t._v(" "),a("h3",{attrs:{id:"åˆ‡æ¢-npm-é•œåƒæº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ‡æ¢-npm-é•œåƒæº"}},[t._v("#")]),t._v(" åˆ‡æ¢ NPM é•œåƒæº")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g nrm\n\n/**\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ---- https://registry.npmjs.org/\n  cnpm --- http://r.cnpmjs.org/\n  taobao - http://registry.npm.taobao.org/\n  eu ----- http://registry.npmjs.eu/\n  au ----- http://registry.npmjs.org.au/\n  sl ----- http://npm.strongloop.com/\n  nj ----- https://registry.nodejitsu.com/\n**/\n \n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åˆ‡æ¢åˆ°taobao")]),t._v("\nnrm use taobao\n")])])]),a("h2",{attrs:{id:"é€‰ç”¨å¼€æºé¡¹ç›®å¹¶éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‰ç”¨å¼€æºé¡¹ç›®å¹¶éƒ¨ç½²"}},[t._v("#")]),t._v(" é€‰ç”¨å¼€æºé¡¹ç›®å¹¶éƒ¨ç½²")]),t._v(" "),a("p",[t._v("æœ¬æ–‡é‡‡ç”¨æ­¤å¼€æºé¡¹ç›®ï¼š"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/domain.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pages è‡ªå®šä¹‰åŸŸå"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/deploy.html#github",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pages éƒ¨ç½²"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²åšå®¢"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"å¼€å§‹éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å§‹éƒ¨ç½²"}},[t._v("#")]),t._v(" å¼€å§‹éƒ¨ç½²")]),t._v(" "),a("p",[t._v("æŒ‰ç…§ä»¥ä¸Šçš„æ•™ç¨‹é“¾æ¥å°±èƒ½æˆåŠŸ.")]),t._v(" "),a("p",[t._v("å¦‚æœè¿˜æœ‰ä¸æ‡‚çš„å°±çœ‹ä¸‹æˆ‘çš„githubï¼š"),a("a",{attrs:{href:"https://github.com/xzwiaoe/xzwiao.github.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("xzwiao.github.io"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("é‡Œé¢æœ‰ä¸¤ä¸ªåˆ†æ”¯master(ä¸»åˆ†æ”¯.æ”¾æºç )å’Œgh-pages(å­˜æ”¾buildç¼–è¯‘åçš„åŒ…)")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ${home}/.github/workflows/main.yml")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy GitHub Pages\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è§¦å‘æ¡ä»¶ï¼šåœ¨ push åˆ° master åˆ†æ”¯å")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»»åŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ‹‰å–ä»£ç ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Checkout\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("persist-credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç”Ÿæˆé™æ€æ–‡ä»¶")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# éƒ¨ç½²åˆ° GitHub Pages")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@releases/v3\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dist\n")])])]),a("h2",{attrs:{id:"github-actionsè‡ªåŠ¨è§¦å‘æœåŠ¡å™¨æ›´æ–°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-actionsè‡ªåŠ¨è§¦å‘æœåŠ¡å™¨æ›´æ–°"}},[t._v("#")]),t._v(" github Actionsè‡ªåŠ¨è§¦å‘æœåŠ¡å™¨æ›´æ–°")]),t._v(" "),a("p",[t._v("ç”±äºgithub.ioçš„æœåŠ¡å™¨æ˜¯åœ¨å›½å¤–.å¹¶ä¸”å¹¶å‘é‡æ¯”è¾ƒå¤§ï¼Œå¯¼è‡´å¸¦å®½çš„ä¸¥é‡ç¼“æ…¢"),a("br"),t._v("\näºæ˜¯ä¾¿æœ‰äº†éƒ¨ç½²åˆ°ä¸ªäººçš„é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šçš„æƒ³æ³•\\")]),t._v(" "),a("h3",{attrs:{id:"ç”Ÿæˆrsaå…¬ç§åŒ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç”Ÿæˆrsaå…¬ç§åŒ™"}},[t._v("#")]),t._v(" ç”ŸæˆRSAå…¬ç§åŒ™")]),t._v(" "),a("p",[t._v("è¿™é‡Œæ¨èç äº‘çš„æ•™ç¨‹ï¼š"),a("a",{attrs:{href:"https://gitee.com/help/articles/4191#article-header0",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”Ÿæˆ/æ·»åŠ SSHå…¬é’¥"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("TIP:è®°å¾—åœ¨äº‘æœåŠ¡å™¨ä¸Šæ“ä½œ")]),t._v(" "),a("h3",{attrs:{id:"æ·»åŠ å…¬åŒ™åˆ°github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ å…¬åŒ™åˆ°github"}},[t._v("#")]),t._v(" æ·»åŠ å…¬åŒ™åˆ°Github")]),t._v(" "),a("p",[t._v("æŠŠåœ¨äº‘æœåŠ¡ç”Ÿæˆçš„id_rsa.pubæ·»åŠ åˆ°settings->Deploy Keysä¸­(å¦‚ä¸‹å›¾)\n"),a("img",{attrs:{src:"https://fublog.oss-cn-shenzhen.aliyuncs.com/vuepress/vuepress_deploy.png",alt:"æ·»åŠ å…¬åŒ™åˆ°Github"}})]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å…‹éš†é¡¹ç›®åˆ°äº‘æœåŠ¡å™¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/xzwiaoe/xzwiao.github.io.git\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åˆ‡æ¢åˆ°åˆ†æ”¯gh-pages(è®°å¾—cdåˆ°é¡¹ç›®æ ¹ç›®å½•)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout gh-pages\n")])])]),a("h3",{attrs:{id:"ç¼–å†™shell-vs-nginx-conf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™shell-vs-nginx-conf"}},[t._v("#")]),t._v(" ç¼–å†™shell VS nginx.conf")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#deploy_blog.sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å»åˆ°ç›®å½•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /home/blog\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ›´æ–°æœ€æ–°ä»£ç ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])])]),a("p",[t._v("è®°å¾—èµ‹äºˆdeploy.shæ‰§è¡Œæƒé™(chmodå‘½ä»¤)")]),t._v(" "),a("p",[t._v("é…ç½®httpsè¯·å…ˆè‡ªè¡Œç™¾åº¦.æ™šç‚¹æŠŠæ•™ç¨‹è¡¥ä¸Š")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#nginx.conf")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#é‡å®šå‘åˆ°https")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rewrite")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("https")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" permanent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¼€å¯https")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v(" www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v(" html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate")]),t._v("   cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3652143")]),t._v("_www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate_key")]),t._v("  cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3652143")]),t._v("_www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fumeck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_session_timeout")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_ciphers")]),t._v(" ECDHE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES128"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ECDHE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ECDH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("AES"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("HIGH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("NULL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ADH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_protocols")]),t._v(" TLSv1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_prefer_server_ciphers")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("blog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"äº‘æœåŠ¡å™¨å…è®¸sshè¿œç¨‹ç™»å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº‘æœåŠ¡å™¨å…è®¸sshè¿œç¨‹ç™»å½•"}},[t._v("#")]),t._v(" äº‘æœåŠ¡å™¨å…è®¸SSHè¿œç¨‹ç™»å½•")]),t._v(" "),a("p",[t._v("åˆ°ç›®å‰ä¸ºæ­¢,ç½‘ç«™å·²èƒ½è®¿é—®ï¼Œä½†è¿˜ä¸å¤Ÿè‡ªåŠ¨åŒ–"),a("br"),t._v("\næ¯æ¬¡å‘å¸ƒæ–‡ç« è¿˜å¾—æ‰‹åŠ¨çš„æ‰§è¡Œdeploy_blog.shè„šæœ¬."),a("br"),t._v("\næ‰€ä»¥è¿™é‡Œè¿˜å·®ä¸¤æ­©ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("1.äº‘æœåŠ¡å™¨å…è®¸SSHè¿œç¨‹ç™»å½•")]),t._v(" "),a("li",[t._v("2.Github Actionsè§¦å‘è¿œç¨‹æ›´æ–°")])]),t._v(" "),a("p",[t._v("ç™»å½•"),a("a",{attrs:{href:"https://homenew.console.aliyun.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("é˜¿é‡Œäº‘æ§åˆ¶å°"),a("OutboundLink")],1),t._v(",äº‘æœåŠ¡å™¨ECS->ç½‘ç»œä¸å®‰å…¨->å¯†åŒ™å¯¹"),a("br"),t._v("\nåˆ›å»ºå¯†åŒ™å¯¹å¹¶ç»‘å®šåˆ°å¯¹åº”çš„ECSå®ä¾‹ä¸­ï¼Œç„¶åé‡å¯å®ä¾‹\nå®ä¾‹å°±åªå…è®¸ä½¿ç”¨RSAå¯†åŒ™çš„æ–¹å¼ç™»å½•(æ—§çš„å¯†ç æ–¹å¼å¤±æ•ˆ)")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹ä¸ºå®¢æˆ·ç«¯è®¿é—®è¿œç¨‹æœåŠ¡å™¨æµ‹è¯•")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#æ­¤æ—¶æœ‰éœ€è¦RSAå¯†åŒ™å¯¹.å¯ä»¥é‡ç”¨ä¹‹å‰çš„\n#è¿œç¨‹æœåŠ¡å™¨æ”¾ç½®å…¬åŒ™(å·²åœ¨é˜¿é‡Œäº‘å¯†åŒ™å¯¹ä¸­æ·»åŠ å¹¶ç»‘å®š)\n#å®¢æˆ·ç«¯æ”¾ç½®ç§åŒ™\nssh-add ~/.ssh/id_rsa\n#é»˜è®¤ç«¯å£æ˜¯22.å…¶ä»–ç«¯å£å¾—åŠ  -p ç«¯å£å·\nssh-keyscan -t rsa 47.106.96.91\n")])])]),a("h3",{attrs:{id:"å‡ºbugäº†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡ºbugäº†"}},[t._v("#")]),t._v(" å‡ºBugäº†")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ‰§è¡Œssh")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("StrictHostKeyChecking")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("no -i ~./ssh/id_rsa -A -tt -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22506")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.108")]),t._v(".175.238 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æŠ¥å¦‚ä¸‹é”™è¯¯.å»æ‰ -i ~./ssh/id_rsaå°±ä¸ä¼š")]),t._v("\ntilde_expand_filename: No such user "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("è¿™ä¸ªæš‚æ—¶æ‰¾ä¸åˆ°åŸå› ï¼ŒGithub Actionsä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥å…ˆç•¥è¿‡")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹æ˜¯éƒ¨ç½²æ–¹å¼")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(' deploy-on-aliyun:\n    needs: build-and-deploy\n    # æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu\n    runs-on: ubuntu-latest\n    steps:\n      - name: Setup git file\n        env: \n          ACTIONS_DEPLOY_KEY: ${{ secrets.deploy_key }}\n        run: |\n          SSH_PATH="~/.ssh"\n          mkdir -p $SSH_PATH\n          touch "$SSH_PATH/known_hosts"\n          echo "$ACTIONS_DEPLOY_KEY" > "$SSH_PATH/id_rsa"\n          chmod 700 "$SSH_PATH"\n          chmod 600 "$SSH_PATH/known_hosts"\n          chmod 600 "$SSH_PATH/id_rsa"\n          echo "file addad"\n      - name: Setup git excute\n        env: \n          USER: root\n          HOST: 39.108.175.238\n          PORT: 22506\n        run: |\n          SSH_PATH="~/.ssh"\n          eval $(ssh-agent)\n          ssh-add "$SSH_PATH/id_rsa"\n          ssh-keyscan -t rsa -p $PORT $HOST >> "$SSH_PATH/known_hosts"\n          ssh -o StrictHostKeyChecking=no -i $SSH_PATH/id_rsa -A -tt -p $PORT $USER@$HOST ./deploy_blog.sh\n')])])]),a("h2",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[t._v("#")]),t._v(" å‚è€ƒæ–‡çŒ®")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/ddc0b8f8f72a",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ‡æ¢é•œåƒæº"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/e3ba86e9c46d",target:"_blank",rel:"noopener noreferrer"}},[t._v("é€šè¿‡GitHub actionså‘å¸ƒhugoåˆ°ç§æœ‰äº‘æœåŠ¡å™¨"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("é˜®ä¸€å³°ï¼š"),a("br"),t._v(" "),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSHåŸç†ä¸è¿ç”¨ï¼ˆä¸€ï¼‰ï¼šè¿œç¨‹ç™»å½•"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSHåŸç†ä¸è¿ç”¨ï¼ˆäºŒï¼‰ï¼šè¿œç¨‹æ“ä½œä¸ç«¯å£è½¬å‘"),a("OutboundLink")],1)])],1)}),[],!1,null,null,null);"function"==typeof e&&e(r);s.default=r.exports}}]);