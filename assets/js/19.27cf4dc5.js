(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{592:function(a,s,t){"use strict";t.r(s);var e=t(2),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"设置国内镜像源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置国内镜像源"}},[a._v("#")]),a._v(" 设置国内镜像源")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/docker/daemon.json\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#新增以下内容(无则创建)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://hub-mirror.c.163.com"')]),a._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://reg-mirror.qiniu.com"')]),a._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://registry.docker-cn.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(",\n "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"live-restore"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" true,\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"graph"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/home/mydata/docker"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("之后重新启动服务：")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl daemon-reload\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl restart docker\n")])])]),t("p",[a._v("检查加速器是否生效:")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("$ docker info\n  Registry Mirrors:\n    https://hub-mirror.c.163.com/\n    https://reg-mirror.qiniu.com/\n    https://registry.docker-cn.com/\n\n")])])]),t("h2",{attrs:{id:"设置时区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置时区"}},[a._v("#")]),a._v(" 设置时区")]),a._v(" "),t("h3",{attrs:{id:"镜像中直接修改-dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像中直接修改-dockerfile"}},[a._v("#")]),a._v(" 镜像中直接修改(Dockerfile)")]),a._v(" "),t("p",[a._v("如果该镜像中有时区的设置,则可以直接修改")]),a._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" alpine"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("3.9\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置时区为上海")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RUN")]),a._v(" apk add tzdata && cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Asia/Shanghai"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v(" /etc/timezone \\\n    && apk del tzdata\n")])])]),t("p",[a._v("或者启动容器的时候添加环境变量时区为上海(镜像中有时区设置的话)")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai \n")])])]),t("h2",{attrs:{id:"安装docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装docker-compose"}},[a._v("#")]),a._v(" 安装docker-compose")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#下载3种选一")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -s"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("uname")]),a._v(" -m"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" -o /usr/local/bin/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-Linux-x86_64 -o /usr/local/bin/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /home/tool/docker-compose-Linux-x86_64 /usr/local/bin/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安装")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" +x /usr/local/bin/docker-compose\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看版本")]),a._v("\ndocker-compose version\n")])])]),t("h2",{attrs:{id:"docker安装中间件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker安装中间件"}},[a._v("#")]),a._v(" docker安装中间件")]),a._v(" "),t("h3",{attrs:{id:"安装mysql-8-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql-8-0"}},[a._v("#")]),a._v(" 安装mysql:8.0")]),a._v(" "),t("h4",{attrs:{id:"下载镜像文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像文件"}},[a._v("#")]),a._v(" 下载镜像文件")]),a._v(" "),t("p",[a._v("docker pull mysql:8.0")]),a._v(" "),t("h4",{attrs:{id:"创建实例并启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例并启动"}},[a._v("#")]),a._v(" 创建实例并启动")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 --name mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/mysql/conf/conf.d:/etc/mysql/conf.d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/mysql/conf/my.cnf:/etc/mysql/my.cnf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/mysql/log:/logs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/mysql/data:/var/lib/mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-d mysql:8.0\n")])])]),t("blockquote",[t("p",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("-p 3306:3306：将容器的3306端口映射到主机的3306端口")]),a._v(" "),t("li",[a._v("-v /mydata/mysql/conf/my.cnf:/etc/mysql/my.cnf：将配置文件夹挂在到主机")]),a._v(" "),t("li",[a._v("-v /mydata/mysql/log:/logs：将日志文件夹挂载到主机")]),a._v(" "),t("li",[a._v("-v /mydata/mysql/data:/var/lib/mysql：将配置文件夹挂载到主机")]),a._v(" "),t("li",[a._v("-e MYSQL_ROOT_PASSWORD=root：初始化root用户的密码")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#复制容器配置文件到宿主机目录")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" mysql:/etc/mysql/my.cnf /mydata/mysql/conf/my.cnf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#添加字符集配置并重启")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /mydata/mysql/conf/conf.d/mysql.cnf\ndocker restart mysql\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("mysql.cnf")]),a._v(" "),t("p",[a._v("character_set_server=utf8mb4 "),t("br"),a._v("\ncollation-server=utf8mb4_general_ci "),t("br"),a._v("\ninit-connect='SET NAMES utf8mb4' "),t("br"),a._v("\ninit_connect='SET collation_connection = utf8mb4_general_ci' "),t("br"),a._v("\nskip-character-set-client-handshake")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入mysql容器交互式")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it mysql /bin/bash\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 进入mysql")]),a._v("\nmysql  -uroot -proot\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置远程访问")]),a._v("\nuse mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nalter user "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),a._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'%'")]),a._v(" identified with mysql_native_password by "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h3",{attrs:{id:"安装nginx-1-17-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx-1-17-10"}},[a._v("#")]),a._v(" 安装nginx:1.17.10")]),a._v(" "),t("h4",{attrs:{id:"下载镜像文件-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像文件-2"}},[a._v("#")]),a._v(" 下载镜像文件")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker pull nginx:1.17.10\n")])])]),t("h4",{attrs:{id:"创建实例并启动-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例并启动-2"}},[a._v("#")]),a._v(" 创建实例并启动")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 --name nginx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/nginx/html:/usr/share/nginx/html "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-v /mydata/nginx/logs:/var/log/nginx  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-d nginx:1.17.10\n")])])]),t("h4",{attrs:{id:"修改nginx配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改nginx配置"}},[a._v("#")]),a._v(" 修改nginx配置")]),a._v(" "),t("ol",[t("li",[a._v("将容器内的配置文件拷贝到当前目录：docker  cp nginx:/etc/nginx .")]),a._v(" "),t("li",[a._v("修改文件名称：mv nginx conf")]),a._v(" "),t("li",[a._v("终止容器：docker stop nginx")]),a._v(" "),t("li",[a._v("执行命令删除原容器：docker rm nginx")]),a._v(" "),t("li",[a._v("执行以下命令：\ndocker run -p 80:80 --name nginx "),t("br"),a._v("\n-v /mydata/nginx/html:/usr/share/nginx/html "),t("br"),a._v("\n-v /mydata/nginx/logs:/var/log/nginx  "),t("br"),a._v("\n-v /mydata/nginx/conf:/etc/nginx "),t("br"),a._v("\n-d nginx:1.17.10")])]),a._v(" "),t("h3",{attrs:{id:"安装redis6-0-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装redis6-0-1"}},[a._v("#")]),a._v(" 安装redis6.0.1")]),a._v(" "),t("h4",{attrs:{id:"下载镜像文件-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像文件-3"}},[a._v("#")]),a._v(" 下载镜像文件")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker pull redis:6.0.1\n")])])]),t("h4",{attrs:{id:"创建实例并启动-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例并启动-3"}},[a._v("#")]),a._v(" 创建实例并启动")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6379")]),a._v(":6379 --name redis -v /mydata/redis/data:/data -d redis:6.0.1 redis-server --appendonly "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yes")]),a._v("\n")])])]),t("h4",{attrs:{id:"使用redis镜像执行redis-cli命令连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用redis镜像执行redis-cli命令连接"}},[a._v("#")]),a._v(" 使用redis镜像执行redis-cli命令连接")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it redis redis-cli\n")])])]),t("h3",{attrs:{id:"安装mongodb4-2-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装mongodb4-2-6"}},[a._v("#")]),a._v(" 安装mongodb4.2.6")]),a._v(" "),t("h4",{attrs:{id:"下载镜像文件-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像文件-4"}},[a._v("#")]),a._v(" 下载镜像文件")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker pull mongo:4.2.6\n")])])]),t("h4",{attrs:{id:"创建实例并运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例并运行"}},[a._v("#")]),a._v(" 创建实例并运行")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("27017")]),a._v(":27017 --name mongo -v /mydata/mongo/db:/data/db -d mongo:4.2.6\n")])])]),t("h4",{attrs:{id:"使用mongo命令进入容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用mongo命令进入容器"}},[a._v("#")]),a._v(" 使用mongo命令进入容器")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it mongo mongo\n")])])]),t("h3",{attrs:{id:"安装rabbitmq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装rabbitmq"}},[a._v("#")]),a._v(" 安装rabbitmq")]),a._v(" "),t("h4",{attrs:{id:"下载镜像文件-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像文件-5"}},[a._v("#")]),a._v(" 下载镜像文件")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker pull rabbitmq:management\n")])])]),t("h4",{attrs:{id:"创建实例并启动-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建实例并启动-4"}},[a._v("#")]),a._v(" 创建实例并启动")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -d --name rabbitmq --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5671")]),a._v(":5671 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5672")]),a._v(":5672 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4369")]),a._v(":4369 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("25672")]),a._v(":25672 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15671")]),a._v(":15671 --publish "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15672")]),a._v(":15672 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\nrabbitmq:management\n")])])]),t("h4",{attrs:{id:"常规设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常规设置"}},[a._v("#")]),a._v(" 常规设置")]),a._v(" "),t("ul",[t("li",[a._v("访问管理页面地址：http://192.168.3.10:15672/")]),a._v(" "),t("li",[a._v("输入账号密码并登录：guest guest")]),a._v(" "),t("li",[a._v("创建帐号并设置其角色为管理员：mall mall")]),a._v(" "),t("li",[a._v("创建一个新的虚拟host为：/mall")])]),a._v(" "),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),t("h3",{attrs:{id:"运行容器-run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行容器-run"}},[a._v("#")]),a._v(" 运行容器(run)")]),a._v(" "),t("p",[a._v("run是我们最常用的命令：")]),a._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[a._v("docker run nginx\n")])])]),t("p",[a._v("如上，便启动了一个nginx容器")]),a._v(" "),t("h3",{attrs:{id:"端口映射-p"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#端口映射-p"}},[a._v("#")]),a._v(" 端口映射(-p)")]),a._v(" "),t("p",[a._v("此时，我们还无法通过访问宿主机的IP来访问刚才部署的Nginx，需要先进行端口映射：")]),a._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[a._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("p 8080"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("80 nginx\n")])])]),t("h3",{attrs:{id:"后台运行-d"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台运行-d"}},[a._v("#")]),a._v(" 后台运行(-d)")]),a._v(" "),t("p",[a._v("默认情况下，当我们推出命令行时，容器也会被关闭")]),a._v(" "),t("p",[a._v("我们可以使用-d参数使容器保持后台运行：")]),a._v(" "),t("p",[t("code",[a._v("docker run -d <image-name>")])]),a._v(" "),t("p",[a._v("然后访问宿主机的IP:8080，便可以看到"),t("code",[a._v("Welcome to nginx!")])]),a._v(" "),t("h3",{attrs:{id:"指定名称-n"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定名称-n"}},[a._v("#")]),a._v(" 指定名称(-n)")]),a._v(" "),t("p",[t("code",[a._v("docker run --name <container-name> <image-name>")])]),a._v(" "),t("div",{staticClass:"language-docker extra-class"},[t("pre",{pre:!0,attrs:{class:"language-docker"}},[t("code",[a._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("name myredis redis\n")])])]),t("p",[a._v("如上，创建了一个名称为redis的容器")]),a._v(" "),t("h3",{attrs:{id:"进入交互模式-it"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进入交互模式-it"}},[a._v("#")]),a._v(" 进入交互模式(-it)")]),a._v(" "),t("p",[t("code",[a._v("docker run -it [image-name] /bin/bash")])]),a._v(" "),t("ul",[t("li",[a._v("-i interact 进入交互模式")]),a._v(" "),t("li",[a._v("-t tty 分配一个伪终端\n执行之后，可以看到命令行的主机名已经变成了容器的Id，表示成功进入到了容器中，可以使用exit命令退出容器")])]),a._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.runoob.com/docker/docker-mirror-acceleration.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker 镜像加速"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/isea533/article/details/87261764",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker 镜像，基于 alpine 系统的时区配置"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.runoob.com/docker/docker-hello-world.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Docker Hello World"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"http://www.macrozheng.com/#/deploy/mall_deploy_docker_compose",target:"_blank",rel:"noopener noreferrer"}},[a._v("mall在Linux环境下的部署(基于Docker Compose)"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);